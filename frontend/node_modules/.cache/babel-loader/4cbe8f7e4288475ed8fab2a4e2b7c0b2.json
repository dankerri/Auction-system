{"ast":null,"code":"import _regeneratorRuntime from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(helloSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetechHome),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchFetechHome),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchProfile),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchFetchProfile),\n    _marked6 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nimport { put, takeEvery, all, call } from 'redux-saga/effects';\nimport { theUrl, tokenHeaders } from 'selfConfig';\nexport function helloSaga() {\n  return _regeneratorRuntime.wrap(function helloSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('Hello Sagas!');\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n} // Fetch data generate list\n\nfunction fetechHome() {\n  var url, payload;\n  return _regeneratorRuntime.wrap(function fetechHome$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          url = 'http://localhost:5000/commodityList';\n          _context2.next = 3;\n          return fetch(url).then(function (res) {\n            return res.json();\n          });\n\n        case 3:\n          payload = _context2.sent;\n          _context2.next = 6;\n          return put({\n            type: 'HOME_INIT_SUCCESS',\n            payload: payload\n          });\n\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n}\n\nfunction watchFetechHome() {\n  return _regeneratorRuntime.wrap(function watchFetechHome$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return takeEvery('HOME_INIT', fetechHome);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this);\n} // Fetch data for userProfile\n\n\nfunction fetchProfile() {\n  var url, action, payload;\n  return _regeneratorRuntime.wrap(function fetchProfile$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          url = theUrl + '/userProfile';\n          _context4.next = 3;\n          return take('GET_PROFILE');\n\n        case 3:\n          action = _context4.sent;\n          _context4.next = 6;\n          return fetch(url, {\n            headers: tokenHeaders(localStorage.getItem(\"token\")),\n            method: 'POST',\n            body: {\n              username: action.username\n            }\n          }).then(function (res) {\n            return res.json();\n          });\n\n        case 6:\n          payload = _context4.sent;\n          _context4.next = 9;\n          return put({\n            type: 'GET_PROFILE_SUCCESS',\n            payload: payload\n          });\n\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this);\n}\n\nfunction watchFetchProfile() {\n  return _regeneratorRuntime.wrap(function watchFetchProfile$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return takeEvery('GET_PROFILE', fetchProfile);\n\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, this);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return all([helloSaga(), watchFetechHome(), watchFetchProfile()]);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, this);\n}","map":{"version":3,"sources":["/home/dd/Desktop/nangua/frontend/src/content/sagas.js"],"names":["helloSaga","fetechHome","watchFetechHome","fetchProfile","watchFetchProfile","rootSaga","put","takeEvery","all","call","theUrl","tokenHeaders","console","log","url","fetch","then","res","json","payload","type","take","action","headers","localStorage","getItem","method","body","username"],"mappings":";;;;yBAEiBA,S;;;yBAKPC,U;;;yBAKAC,e;;;yBAKAC,Y;;;yBAYAC,iB;;;yBAIeC,Q;;AAjCzB,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,EAA8BC,IAA9B,QAA0C,oBAA1C;AACA,SAASC,MAAT,EAAiBC,YAAjB,QAAqC,YAArC;AACA,OAAO,SAAUX,SAAV;AAAA;AAAA;AAAA;AAAA;AACNY,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AADM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAIP;;AACA,SAAUZ,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACQa,UAAAA,GADR,GACc,qCADd;AAAA;AAEkB,iBAAMC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAiB,UAAAC,GAAG;AAAA,mBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,WAApB,CAAN;;AAFlB;AAEQC,UAAAA,OAFR;AAAA;AAGE,iBAAMb,GAAG,CAAC;AAACc,YAAAA,IAAI,EAAE,mBAAP;AAA4BD,YAAAA,OAAO,EAAEA;AAArC,WAAD,CAAT;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,SAAUjB,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,iBAAMK,SAAS,CAAC,WAAD,EAAcN,UAAd,CAAf;;AADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAIA;;;AACA,SAAUE,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACQW,UAAAA,GADR,GACcJ,MAAM,GAAG,cADvB;AAAA;AAEiB,iBAAMW,IAAI,CAAC,aAAD,CAAV;;AAFjB;AAEQC,UAAAA,MAFR;AAAA;AAGkB,iBAAMP,KAAK,CAACD,GAAD,EAAM;AAC/BS,YAAAA,OAAO,EAAEZ,YAAY,CAACa,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CADU;AAE/BC,YAAAA,MAAM,EAAE,MAFuB;AAG/BC,YAAAA,IAAI,EAAE;AACJC,cAAAA,QAAQ,EAAEN,MAAM,CAACM;AADb;AAHyB,WAAN,CAAL,CAMnBZ,IANmB,CAMb,UAAAC,GAAG;AAAA,mBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,WANU,CAAN;;AAHlB;AAGQC,UAAAA,OAHR;AAAA;AAUE,iBAAMb,GAAG,CAAC;AAAEc,YAAAA,IAAI,EAAE,qBAAR;AAA+BD,YAAAA,OAAO,EAAEA;AAAxC,WAAD,CAAT;;AAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYA,SAAUf,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,iBAAMG,SAAS,CAAC,aAAD,EAAgBJ,YAAhB,CAAf;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,eAAe,SAAUE,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMG,GAAG,CAAC,CACRR,SAAS,EADD,EAERE,eAAe,EAFP,EAGRE,iBAAiB,EAHT,CAAD,CAAT;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { put, takeEvery, all, call } from 'redux-saga/effects'\nimport { theUrl, tokenHeaders } from 'selfConfig'\nexport function* helloSaga() {\n\tconsole.log('Hello Sagas!')\n}\n\n// Fetch data generate list\nfunction* fetechHome() {\n  const url = 'http://localhost:5000/commodityList';\n  const payload = yield fetch(url).then( res => res.json() )\n  yield put({type: 'HOME_INIT_SUCCESS', payload: payload })\n}\nfunction* watchFetechHome() {\n    yield takeEvery('HOME_INIT', fetechHome)\n}\n\n// Fetch data for userProfile\nfunction* fetchProfile() {\n  const url = theUrl + '/userProfile'\n  const action = yield take('GET_PROFILE')\n  const payload = yield fetch(url, {\n    headers: tokenHeaders(localStorage.getItem(\"token\")),\n    method: 'POST',\n    body: {\n      username: action.username\n    }\n  }).then( res => res.json() )\n  yield put({ type: 'GET_PROFILE_SUCCESS', payload: payload })\n}\nfunction* watchFetchProfile() {\n  yield takeEvery('GET_PROFILE', fetchProfile)\n}\n\nexport default function* rootSaga() {\n  yield all([\n    helloSaga(),\n    watchFetechHome(),\n    watchFetchProfile()\n  ])\n}"]},"metadata":{},"sourceType":"module"}