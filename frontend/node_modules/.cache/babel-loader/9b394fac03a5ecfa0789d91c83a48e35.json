{"ast":null,"code":"import _classCallCheck from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dd/Desktop/nangua/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dd/Desktop/nangua/frontend/src/content/container/user/components/upload.js\";\nimport React from 'react';\nimport { Upload, Icon, Modal, Button, message } from 'antd';\nimport { theUrl } from 'selfConfig';\n\nvar Picwall =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Picwall, _React$Component);\n\n  function Picwall() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Picwall);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Picwall)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      previewVisible: false,\n      previewImage: '',\n      fileList: []\n    };\n\n    _this.handleCancel = function () {\n      return _this.setState({\n        previewVisible: false\n      });\n    };\n\n    _this.handlePreview = function (file) {\n      _this.setState({\n        previewImage: file.url || file.thumbUrl,\n        previewVisible: true\n      });\n    };\n\n    _this.handleChange = function (info) {\n      if (info.file.status == 'done') {\n        message.success(\"upload success.\");\n      } else if (info.file.status == 'error') {\n        message.error(\"upload failed\");\n      }\n\n      var fileList = info.fileList;\n\n      _this.setState({\n        fileList: fileList\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Picwall, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          previewVisible = _this$state.previewVisible,\n          previewImage = _this$state.previewImage,\n          fileList = _this$state.fileList;\n      var uploadButton = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Upload\"));\n      return React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Upload, {\n        action: theUrl + '/createCard',\n        listType: \"picture-card\",\n        fileList: fileList,\n        onPreview: this.handlePreview,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, fileList.length >= 1 ? null : uploadButton), React.createElement(Modal, {\n        visible: previewVisible,\n        footer: null,\n        onCancel: this.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"example\",\n        style: {\n          width: '100%'\n        },\n        src: previewImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Picwall;\n}(React.Component);\n\nexport default Picwall;","map":{"version":3,"sources":["/home/dd/Desktop/nangua/frontend/src/content/container/user/components/upload.js"],"names":["React","Upload","Icon","Modal","Button","message","theUrl","Picwall","state","previewVisible","previewImage","fileList","handleCancel","setState","handlePreview","file","url","thumbUrl","handleChange","info","status","success","error","uploadButton","length","width","Component"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,OAAtC,QAAqD,MAArD;AACA,SAASC,MAAT,QAAuB,YAAvB;;IAEMC,O;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,cAAc,EAAE,KADV;AAENC,MAAAA,YAAY,EAAE,EAFR;AAGNC,MAAAA,QAAQ,EAAE;AAHJ,K;;UAMRC,Y,GAAe;AAAA,aAAM,MAAKC,QAAL,CAAc;AAAEJ,QAAAA,cAAc,EAAE;AAAlB,OAAd,CAAN;AAAA,K;;UAEfK,a,GAAgB,UAACC,IAAD,EAAU;AACxB,YAAKF,QAAL,CAAc;AACZH,QAAAA,YAAY,EAAEK,IAAI,CAACC,GAAL,IAAYD,IAAI,CAACE,QADnB;AAEZR,QAAAA,cAAc,EAAE;AAFJ,OAAd;AAID,K;;UAEDS,Y,GAAe,UAACC,IAAD,EAAU;AACvB,UAAGA,IAAI,CAACJ,IAAL,CAAUK,MAAV,IAAoB,MAAvB,EAA+B;AAC7Bf,QAAAA,OAAO,CAACgB,OAAR,CAAgB,iBAAhB;AACD,OAFD,MAEO,IAAIF,IAAI,CAACJ,IAAL,CAAUK,MAAV,IAAoB,OAAxB,EAAiC;AACtCf,QAAAA,OAAO,CAACiB,KAAR,CAAc,eAAd;AACD;;AALsB,UAMjBX,QANiB,GAMJQ,IANI,CAMjBR,QANiB;;AAOvB,YAAKE,QAAL,CAAc;AAAEF,QAAAA,QAAQ,EAARA;AAAF,OAAd;AACD,K;;;;;;;6BAEQ;AAAA,wBAC4C,KAAKH,KADjD;AAAA,UACCC,cADD,eACCA,cADD;AAAA,UACiBC,YADjB,eACiBA,YADjB;AAAA,UAC+BC,QAD/B,eAC+BA,QAD/B;AAEP,UAAMY,YAAY,GAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF;AAMA,aACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,MAAM,EAAEjB,MAAM,GAAC,aADjB;AAEE,QAAA,QAAQ,EAAC,cAFX;AAGE,QAAA,QAAQ,EAAEK,QAHZ;AAIE,QAAA,SAAS,EAAE,KAAKG,aAJlB;AAKE,QAAA,QAAQ,EAAE,KAAKI,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOGP,QAAQ,CAACa,MAAT,IAAmB,CAAnB,GAAuB,IAAvB,GAA8BD,YAPjC,CADF,EAUE,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAEd,cAAhB;AAAgC,QAAA,MAAM,EAAE,IAAxC;AAA8C,QAAA,QAAQ,EAAE,KAAKG,YAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAC,SAAT;AAAmB,QAAA,KAAK,EAAE;AAAEa,UAAAA,KAAK,EAAE;AAAT,SAA1B;AAA6C,QAAA,GAAG,EAAEf,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAVF,CADF;AAgBD;;;;EAlDmBV,KAAK,CAAC0B,S;;AAqD5B,eAAenB,OAAf","sourcesContent":["\nimport React from 'react'\nimport { Upload, Icon, Modal, Button, message } from 'antd'\nimport { theUrl } from 'selfConfig'\n\nclass Picwall extends React.Component {\n  state = {\n    previewVisible: false,\n    previewImage: '',\n    fileList: [],\n  };\n\n  handleCancel = () => this.setState({ previewVisible: false })\n\n  handlePreview = (file) => {\n    this.setState({\n      previewImage: file.url || file.thumbUrl,\n      previewVisible: true,\n    });\n  }\n\n  handleChange = (info) => {\n    if(info.file.status == 'done') {\n      message.success(\"upload success.\")\n    } else if (info.file.status == 'error') {\n      message.error(\"upload failed\")\n    }\n    let { fileList } = info\n    this.setState({ fileList })\n  }\n\n  render() {\n    const { previewVisible, previewImage, fileList } = this.state;\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\" />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    return (\n      <div className=\"clearfix\">\n        <Upload\n          action={theUrl+'/createCard'}\n          listType=\"picture-card\"\n          fileList={fileList}\n          onPreview={this.handlePreview}\n          onChange={this.handleChange}\n        >\n          {fileList.length >= 1 ? null : uploadButton}\n        </Upload>\n        <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Picwall"]},"metadata":{},"sourceType":"module"}